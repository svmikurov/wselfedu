{% extends 'base.html' %}
{% load i18n %}

{% block title %}{% trans "lang.english.page.assignations.index.title" %}{% endblock title %}

{% block content %}
<main class="container">
  <div class="row py-3">
    <div class="col">
      <h1>{% trans "lang.english.page.assignations.index.header" %}</h1>
    </div>
    <div class="col-auto">
      <a href="javascript:history.back()" class="wse-btn"
        >
         Назад
      </a>
    </div>
  </div>

  <table class='table table-hover'>
    <thead>
      <tr>
        <th>{% trans 'Exercise' %}</th>
      </tr>
    </thead>

    <tbody>
      {% for assignation in assignations %}
      <tr id="row-{{ assignation.id }}">
        <td>
          <div class="d-flex">
            <span class="flex-grow-1 me-2">
              {{ assignation }}
            </span>
            <span class="ms-auto">
              <button class="btn btn-link border-0"
                      data-testid="delete-btn-{{ assignation.id }}"
                      title={% trans 'button.delete' %}
                      hx-delete="{% url 'lang:english_mentor_exercises_assignation_delete' assignation.id %}"
                      hx-target="#row-{{ assignation.id }}"
                      hx-swap="outerHTML"
                      hx-confirm={% trans 'button.delete.confirm' %}>
                <i class="fas fa-trash fa-lg"></i>
              </button>
            </span>
          </div>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  <div id="form">
    {# Target to insert a form #}
  </div>
</main>
{% endblock content %}